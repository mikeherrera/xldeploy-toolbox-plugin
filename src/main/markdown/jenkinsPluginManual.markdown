## Preface ##

This document describes the functionality provided by **XL Deploy Jenkins Plugin**.

## Overview ##
The **XL Deploy Jenkins Plugin** enables 3 post-build actions: "Package your application", "Import a package", "Deploy your application" which can be executed separately or combined sequentially.

### Features ###

* DAR packaging
	* With the artifact created by Jenkins job
	* With other artifacts or resources
* Importing DAR package into XL Deploy
* Triggering deployment in XL Deploy
    * Updating mappings on upgrade
    * Dry run
* Execution on Windows/UNIX Slave nodes

### Requirements ###

* **XL Deploy requirements**
	* **XL Deploy**: version 4.0+
* **Jenkins requirements**
    * **Jenkins**: Jenkins **LTS** version {{supportedLtsVersion}} or higher
    * **Java**: version 7

**Important: Please note that from version 4.0.0 the plugin requires the Jenkins server to be run using Java 7 or higher.**

### Package your application ###

Creates a XL Deploy deployment (DAR) package. The deployment package will usually contain an artifact created by Jenkins build.

### Import a package ###

You can choose which package to import into XL Deploy. This can be a DAR package generated by an *Package your application* action, or package from external location (filesystem or URL).

### Deploy your application ###

Deploys a specific version of the application to the specified environment.

## Configuration ##

There are 2 places to configure the **XL Deploy Jenkins Plugin**: global Jenkins configuration and job configuration.

### Plugin configuration ###

At *Manage Jenkins* -> *Configure System* you can specify XL Deploy server URL and one or more sets of credentials. Different sets can be used for different jobs.

### Job configuration ###

In the Job Configuration page, choose *Post-build Actions* -> *Add post-build action* -> *Deploy with XL Deploy*. Now you can configure which actions to perform and other settings. To get an explanation of each setting, click on the question mark sign located right next to each setting.

##How do I ...?##

**Generate version of my application automatically?**

If you practice continuous delivery, it may be useful to increase the version automatically after each build. For this you can use one of Jenkins environment variables in the Version field. For example ${BUILD_NUMBER}. To see the complete list of available variables you can go to http://\<jenkins-host\>:\<jenkins-port\>/env-vars.html

**Optimize the plugin for parallel running deployment jobs**

If you have many deployment jobs running in parallel you can tweak the connection settings by increasing the connection pool size on the Global configuration screen. The default connection pool size is 10.

## Release notes ##

### Version 4.5.0 ###

Improvements:

* [DEPL-6550] - Add orchestrator field to Jenkins plugin configuration page
* [DEPL-6638] - Support usage of Jenkins build parameters in Environment field

Bug Fixes:

* [DEPL-4798] - Unhelpful error message when Version is not defined
* [DEPL-4899] - Hidden deployable properties are displayed in Jenkins CI dropdowns and appear editable
* [DEPL-5521] - Text field with size large is rendered as a single line in Jenkins UI
* [DEPL-5986] - Jenkins plugin fails with IllegalStateException due to uninitialized descriptor registries
* [DEPL-6371] - Unhelpful error message when no deployable is defined
* [DEPL-6974] - Intermittent error in SlaveRemoteDescriptorRegistry boot

### Version 4.0.1 ###

Bug Fixes:

* [DEPL-6076] - Invalid file.Folder or www.WebContent artifact created from ZIP file

### Version 4.0.0 ###

Improvements:

* [DEPL-5587] - Add compatibility check of Jenkins plugin with XL Deploy server

Bug Fixes:

* [DEPL-5863] - Jenkins plugin throws random error (Error status 401 Unauthorized) during deployment
* [DEPL-5864] - Jenkins plugin fails with "Timeout waiting for connection from pool" when used in parallel pipeline

### Version 3.9.6 ###

Improvements:

* Evaluate environment variables when computing the deployable name and resolving an artifact's location.
* Sort environment names in drop down list.

Bug Fixes:

* Correct handling of recursive embedded deployables.
* Correct handling of configuration item references in the job configuration.

### Version 3.9.4 ###

Improvements:

* [DEPLOYITPB-4884] - Support Jenkins environment variables in 'Application' property
* [DEPLOYITPB-4885] - Support Jenkins environment variables in 'location' property of artifacts
